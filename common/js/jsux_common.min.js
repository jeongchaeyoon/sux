function setCookie(a,b,c){var d=new Date;d.setDate(d.getDate()+c),document.cookie=escape(a)+"="+escape(b)+"; path=/; expires="+d.toGMTString()+";"}function getCookie(a){for(var b=escape(a)+"=",c=0;c<=document.cookie.length;){var d=c+b.length;if(document.cookie.substring(c,d)==b)return(popendCookie=document.cookie.indexOf(";",d))==-1&&(popendCookie=document.cookie.length),unescape(document.cookie.substring(d,popendCookie));if(c=document.cookie.indexOf(" ",c)+1,0===c)break}return""}function closePopup(a){document.forms[0].suxpop.checked&&setCookie(a,"__sux_nopopup",1),self.close()}function openPopup(a,b,c,d,e,f){"__sux_nopopup"!=getCookie(b)&&(suxpopWindow=window.open(a,b,"'toolbar=no,location=no,status=no,menubar=no,scrollbars=auto,left="+c+"px,top="+d+"px,width="+e+"px,height="+f+"px'"),suxpopWindow.opener=self)}var popupManager=popupManager||{};!function(a){var b=function(){var a=this,b=[],c=300,d=null,e=0,f=0;this.init=function(a){e=0,d=a,f=a.length},this.open=function(){var b="",c=d[e].id,g=d[e].popup_name,h=(d[e].skin,d[e].popup_left),i=d[e].popup_top,j=d[e].popup_width,k=d[e].popup_height,l=d[e].is_usable,m=d[e].period,n=d[e].nowtime;"y"==l.toLowerCase()&&m>n&&(b=jsux.rootPath+"popup-event?id="+c+"&winname="+g,openPopup(b,g,h,i,j,k)),e++,e==f&&a.stopTimer()},this.startTimer=function(){b.push(setInterval(a.open,c))},this.stopTimer=function(){for(var a=0;a<b.length;a++)clearInterval(b[a])},this.load=function(b){var c={id:b},d=!0,e="";d!==!1&&(d=!1,e=jsux.rootPath+"opener-json",jsux.getJSON(e,c,function(b){var c=$.trim(b.result.toLowerCase());"y"==c?(a.init(b.data),a.startTimer()):trace(b.msg,1),d=!0}))}};a.popup=new b,a.open=function(a){this.popup.load(a)},a.sux_path=function(a){this.popup.sux_path=a}}(popupManager),jsux.app=jsux.app||{},function(a,b){var c=jsux.Model.create();c.extend({onResize:function(a){var c=this;b(window).on("resize",function(){c[a]()})}}),c.include({el:null,id:"",tmpl:null,template:null,control:null,total:0,limit:0,isActivated:!1,isMobile:!0,minWidth:768,currentPage:0,currentActivate:0,direction:"prev",pageGroupNum:1,pageTotalNum:0,originLimitGroup:1,limitGroup:1,activateId:1,oldActivate:-1,liLists:null,markup:null,name:null,getName:function(){return this.name},setName:function(a){this.name=a},reset:function(){b(this.id).empty()},initialize:function(a){for(var c in a)this[c]=a[c];if(this.el=b(this.el),this.tmpl=this.tmpl||this.template,this.markup=b(this.tmpl),!this.control){var d=this.el.find(".sx-pagination-control");this.control={prev:d[0],next:d[1]}}this.setEvent()},setData:function(a){for(var b in a)this[b]=a[b];this.originLimitGroup=this.limitGroup;var c=this.total%this.limit,d=this.total/this.limit;this.pageTotalNum=0!==c?Math.ceil(d):d;var e=this.getResizeWidth();e<this.minWidth?(this.isMobile=!1,this.changeToMobile()):(this.isMobile=!0,this.changeToPC()),this.remove(),this.defaultSetting(),this.setLayout(),this.activate(this.activateId)},defaultSetting:function(){if(!this.id)return void jsux.logger.error("'"+this.id+"' 아이디 식별자를 확인해주세요.","jsux_pagination.js",88);var a=b(this.id);return a.length<1?void jsux.logger.error("'"+this.id+"' 아이디 DOM 객체가 존재하지 않습니다.","jsux_pagination.js",94):this.tmpl?this.markup.length<1?void jsux.logger.error("'"+this.tmpl+"' 템플릿 DOM 객체가 존재하지 않습니다.","jsux_pagination.js",152):void 0:void jsux.logger.error("'"+this.tmpl+"' 템플릿 식별자를 입력하세요.","jsux_pagination.js",153)},setLayout:function(){var a=[],c=0,d=0,e=0,f=0;if(this.liLists=[],d=(this.pageGroupNum-1)*this.limitGroup+1,f=d+this.limitGroup-1,f<=this.pageTotalNum)e=this.limitGroup;else if(this.limitGroup<2)e=1;else{var g=this.pageTotalNum%this.limitGroup;e=0!==g?Math.ceil(g):0}c=d+e;for(var h=d;h<c;h++)a.push({no:h});b(this.markup).tmpl(a).appendTo(this.id),this.el.hasClass("sx-hide")&&this.el.removeClass("sx-hide"),this.el.addClass("sx-show"),this.liLists=this.el.find("a"),this.currentPage={prev:d,next:c-1},this.currentActivate={prev:1,next:e}},setEvent:function(){var a=this;b(this.el).on("click",function(c){c.preventDefault();var d=c.target.className;"sx-pagination"===d&&a.callPage(b.trim(b(c.target).text()))}),c.onResize.apply(this,["resizeHandler"])},prev:function(){this.direction="prev",this.pageGroupNum--,this.pageGroupNum<=1&&(this.pageGroupNum=1,this.inactivePrev()),this.activeNext(),this.remove(),this.setLayout(),this.activate(this.currentActivate[this.direction]),this.dispatchEvent({type:"change",page:this.currentPage[this.direction]})},activePrev:function(){var a=this,c=b(this.control.prev);c.hasClass("unactive")&&(c.removeClass("unactive"),c.on("click",function(b){b.preventDefault(),a.prev()}))},inactivePrev:function(){var a=b(this.control.prev);a.hasClass("unactive")||(a.addClass("unactive"),a.off("click"))},next:function(){this.direction="next",this.pageGroupNum++,this.pageGroupNum*this.limitGroup>=this.pageTotalNum&&(this.pageGroupNum=Math.ceil(this.pageTotalNum/this.limitGroup),this.inactiveNext()),this.activePrev(),this.remove(),this.setLayout(),this.activate(this.currentActivate[this.direction]),this.dispatchEvent({type:"change",page:this.currentPage[this.direction]})},activeNext:function(){var a=this,c=b(this.control.next);c.hasClass("unactive")&&(c.removeClass("unactive"),c.on("click",function(b){b.preventDefault(),a.next()}))},inactiveNext:function(){var a=b(this.control.next);a.hasClass("unactive")||(a.addClass("unactive"),a.off("click"))},callPage:function(a){var b=parseInt(a);this.activate(b),this.dispatchEvent({type:"change",page:b})},remove:function(){b(this.id).empty()},activate:function(a){var c=0;if(this.activateId=parseInt(a),isNaN(this.activateId))throw new Error(typeof a+" '"+a+"' is not a Number");b(this.liLists[this.oldActivate]).hasClass("active")&&b(this.liLists[this.oldActivate]).removeClass("active"),this.currentNum=c=Math.ceil(this.activateId%this.limitGroup),0===this.currentNum&&(this.currentNum=c=this.limitGroup),b(this.liLists[c]).hasClass("active")||b(this.liLists[c]).addClass("active"),this.oldActivate=c},activateControl:function(){if(this.pageTotalNum<2)this.deactivateControl();else{this.isActivated=!0;var a=this.currentNum;this.isMobile===!1&&(a=(this.pageGroupNum-1)*this.originLimitGroup+this.currentNum),this.pageGroupNum<=1?(this.inactivePrev(),this.activeNext()):a>=this.pageTotalNum?(this.activePrev(),this.inactiveNext()):(this.activePrev(),this.activeNext())}},deactivateControl:function(){this.isActivated=!1,this.inactiveNext(),this.inactivePrev()},getResizeWidth:function(){return b(window).outerWidth()},resizeHandler:function(){this.isActivated!==!1&&(this.changeToMobile(),this.changeToPC(),this.remove(),this.setLayout(),this.activate(this.activateId),this.activateControl())},changeToMobile:function(){var a=this.getResizeWidth();a<this.minWidth&&this.isMobile===!1&&(this.isMobile=!0,this.limitGroup=1,this.pageGroupNum=(this.pageGroupNum-1)*this.originLimitGroup+this.activateId,this.activateId=this.pageGroupNum)},changeToPC:function(){var a=this.getResizeWidth();a>=this.minWidth&&this.isMobile===!0&&(this.activateId=this.pageGroupNum%this.originLimitGroup,this.isMobile=!1,this.limitGroup=this.originLimitGroup,this.pageGroupNum=Math.ceil(this.pageGroupNum/this.originLimitGroup))}}),a.getPagination=function(){return new c}}(jsux.app,jQuery);