function setCookie(a,b,c){var d=new Date;d.setDate(d.getDate()+c),document.cookie=escape(a)+"="+escape(b)+"; path=/; expires="+d.toGMTString()+";"}function getCookie(a){for(var b=escape(a)+"=",c=0;c<=document.cookie.length;){var d=c+b.length;if(document.cookie.substring(c,d)==b)return(popendCookie=document.cookie.indexOf(";",d))==-1&&(popendCookie=document.cookie.length),unescape(document.cookie.substring(d,popendCookie));if(c=document.cookie.indexOf(" ",c)+1,0===c)break}return""}function closePopup(a){document.forms[0].suxpop.checked&&setCookie(a,"__sux_nopopup",1),self.close()}function openPopup(a,b,c,d,e,f){"__sux_nopopup"!=getCookie(b)&&(suxpopWindow=window.open(a,b,"'toolbar=no,location=no,status=no,menubar=no,scrollbars=auto,left="+c+"px,top="+d+"px,width="+e+"px,height="+f+"px'"),suxpopWindow.opener=self)}var popupManager=popupManager||{};!function(a){var b=function(){var a=this,b=[],c=300,d=null,e=0,f=0;this.init=function(a){e=0,d=a,f=a.length},this.open=function(){var b="",c=d[e].id,g=d[e].popup_name,h=d[e].skin,i=d[e].popup_left,j=d[e].popup_top,k=d[e].popup_width,l=d[e].popup_height,m=d[e].choice,n=d[e].period,o=d[e].nowtime;"y"==m.toLowerCase()&&o<n&&(b=a.sux_path+"/sux/modules/popup/popup.php?action=event&id="+c+"&winname="+g+"&skin="+h,openPopup(b,g,i,j,k,l)),e++,e==f&&a.stopTimer()},this.startTimer=function(){b.push(setInterval(a.open,c))},this.stopTimer=function(){for(var a=0;a<b.length;a++)clearInterval(b[a])},this.load=function(b){var c={id:b},d=!0,e="";d!==!1&&(d=!1,e=a.sux_path+"/sux/modules/popup/popup.php?action=openerJson",jsux.getJSON(e,c,function(b){var c=$.trim(b.result.toLowerCase());"y"==c?(a.init(b.data),a.startTimer()):trace(b.msg,1),d=!0}))}};b.prototype.sux_path="",a.popup=new b,a.open=function(a){this.popup.load(a)},a.sux_path=function(a){this.popup.sux_path=a}}(popupManager);var BoardApp=BoardApp||{};BoardApp.Pagination=jsux.Model.create(),function(a,b){a.include({el:null,id:"",tmpl:null,total:0,limit:0,currentPage:0,currentActivate:0,direction:"prev",pageGroupNum:1,pageTotalNum:0,limitGroup:1,activateId:1,oldActivate:-1,liLists:null,markup:null,name:null,getName:function(){return this.name},setName:function(a){this.name=a},setUI:function(a){for(var c in a)this[c]=a[c];this.el=b(this.el),this.markup=b(this.tmpl),this.setEvent()},setData:function(a){for(var b in a)this[b]=a[b];this.pageTotalNum=this.total%this.limit!==0?Math.ceil(this.total/this.limit):this.total/this.limit,this.remove(),this.setLayout(),this.activate(this.activateId)},setLayout:function(){var a=[],c=0,d=0,e=0,f=0;this.liLists=[],d=(this.pageGroupNum-1)*this.limitGroup+1,f=d+this.limitGroup,e=f<this.pageTotalNum?this.limitGroup:this.pageTotalNum%this.limitGroup!==0?this.pageTotalNum%this.limitGroup:0,c=d+e;for(var g=d;g<c;g++)a.push({no:g});b(this.markup).tmpl(a).appendTo(this.id),this.el.hasClass("ui-navi-hide")&&this.el.removeClass("ui-navi-hide"),this.el.addClass("ui-navi-show"),this.liLists=this.el.find("li span"),this.currentPage={prev:d,next:c-1},this.currentActivate={prev:1,next:e}},setEvent:function(){var a=this;b(this.el).on("click",function(c){c.preventDefault();var d=c.target.className;d.indexOf("prev")!==-1?a.prev():d.indexOf("next")!==-1?a.next():"SPAN"==c.target.nodeName.toUpperCase()&&a.callPage(b.trim(b(c.target).text()))})},prev:function(){this.direction="prev",this.pageGroupNum--,this.pageGroupNum<1&&(this.pageGroupNum=1),this.remove(),this.setLayout(),this.activate(this.currentActivate[this.direction]),this.dispatchEvent({type:"change",page:this.currentPage[this.direction]})},next:function(){this.direction="next",this.pageGroupNum++,this.pageGroupNum*this.limitGroup>this.pageTotalNum&&(this.pageGroupNum=Math.ceil(this.pageTotalNum/this.limitGroup)),this.remove(),this.setLayout(),this.activate(this.currentActivate[this.direction]),this.dispatchEvent({type:"change",page:this.currentPage[this.direction]})},callPage:function(a){var b=parseInt(a);this.activate(b),this.dispatchEvent({type:"change",page:b})},remove:function(){b(this.id).empty()},activate:function(a){var c=0;if(this.activateId=parseInt(a),isNaN(this.activateId))throw new Error(typeof a+" '"+a+"' is not a Number");b(this.liLists[this.oldActivate]).hasClass("activate")&&b(this.liLists[this.oldActivate]).removeClass("activate"),this.currentNum=c=(this.activateId-1)%this.limit,b(this.liLists[c]).addClass("activate"),this.oldActivate=c}})}(BoardApp.Pagination,jQuery);