$(document).ready(function(){var a=new SXAdminMobilePanel;a.init();var b=new SXAdminMenu;b.init()});var SXAdminMobilePanel=function(){var a=this,b=!0;this.removeClass=function(a,b){var c=$(a);c.hasClass(b)&&c.removeClass(b)},this.addClass=function(a,b){var c=$(a);c.hasClass(b)||c.addClass(b)},this.hideMobileMenu=function(){var b={"margin-top":10,"margin-bottom":-2},c=500,d="easeOutExpo";$(".sx-menu-btn").animate({opacity:0},c,d,function(){a.showCloseBtn()}),$(".sx-menu-btn .sx-menu > li:first-child").animate(b,c,d),b={"margin-top":0,"margin-bottom":0},$(".sx-menu-btn .sx-menu > li:nth-child(2)").animate(b,c,d),b={"margin-top":-2,"margin-bottom":10},$(".sx-menu-btn .sx-menu > li:last-child").animate(b,c,d)},this.showMobileMenu=function(){var a={"margin-top":5,"margin-bottom":5},b=300,c="easeOutExpo";$(".sx-menu-btn").animate({opacity:1},b,c),$(".sx-menu-btn .sx-menu > li:first-child").animate(a,b,c),$(".sx-menu-btn .sx-menu > li:nth-child(2)").animate(a,b,c),$(".sx-menu-btn .sx-menu > li:last-child").animate(a,b,c)},this.hideCloseBtn=function(){this.removeClass(".sx-close-btn","sx-close-inactive"),this.removeClass(".sx-header","sx-header-active"),this.removeClass(".sx-bgcover","sx-bgcover-active")},this.showCloseBtn=function(){this.addClass(".sx-close-btn","sx-close-active")},this.slideInGnbPanel=function(){this.addClass(".sx-header","sx-header-active"),this.addClass(".sx-gnb-case","sx-slide-in"),this.addClass(".sx-bgcover","sx-bgcover-active"),this.addClass("html","sx-hide-scroll"),this.hideMobileMenu(),this.removeTransitionEnd(),b=!1},this.slideOutGnbPanel=function(){this.removeClass(".sx-gnb-case","sx-slide-in"),this.removeClass(".sx-close-btn","sx-close-active"),this.removeClass("html","sx-hide-scroll"),this.addClass(".sx-close-btn","sx-close-inactive"),this.addTransitionEnd()},this.addTransitionEnd=function(){var c=$(".sx-gnb-case");c.on("transitionend",function(c){a.removeTransitionEnd(),a.showMobileMenu(),a.hideNavPanel(),a.hideCloseBtn(),b=!0})},this.removeTransitionEnd=function(){var a=$(".sx-gnb-case");a.off("transitionend")},this.showNavPanel=function(){this.addClass(".sx-nav-bar","sx-nav-active")},this.hideNavPanel=function(){this.removeClass(".sx-nav-bar","sx-nav-active")},this.setEvent=function(){var a=this;$(".sx-menu-btn").on("click",function(){b&&(a.showNavPanel(),a.slideInGnbPanel())}),$(".sx-close-btn").on("click",function(){a.slideOutGnbPanel()}),$(window).on("keyup",function(b){var c=$(b.target).attr("class");c&&c.match("sx-menu-btn")&&"Tab"===b.key&&b.shiftKey===!1&&$(".sx-menu-btn").trigger("click"),a.oldTarget&&a.oldTarget.match("sx-menu-btn")&&"Tab"===b.key&&b.shiftKey===!0&&$(".sx-close-btn").trigger("click"),a.oldTarget&&a.oldTarget.match("sx-close-btn")&&"Tab"===b.key&&b.shiftKey===!1&&$(".sx-close-btn").trigger("click"),c&&c.match("sx-close-btn")&&"Tab"===b.key&&b.shiftKey===!0&&$(".sx-menu-btn").trigger("click"),a.oldTarget=c})},this.init=function(){this.setEvent()}},SXAdminMenu=function(){var a=null,b=this;this.init=function(){this.setEvent()},this.setEvent=function(){var c=$(".sx-gnb > li > a"),d=$(".sx-drap-menu"),e=null;c.on("mouseover",function(e){e.preventDefault();var f=c.index(this),g=d[f];$(g).children().length>0&&b.showSubMenu(g),a&&a!==g&&b.hideSubMenu(a),a=g}),c.on("touchstart",function(a){a.preventDefault();var c=$(this);b.addClass(c[0],"active"),e&&b.removeClass(e[0],"active");var d=c.attr("href"),f=$(this).attr("target");f=f?f:"_self",d&&d.match("#")!==!0&&jsux.goURL(d,f),e=c});var f=$(".sx-gnb li a");f.on("focus",function(c){c.preventDefault();var e=$(c.target).parent().parent().parent(),f=e.attr("class"),g=$(this).parent().index();f.match(/^sx-sub-case/i)&&(g=$(e.parent()).index());var h=d[g];$(h).children().length>0&&b.showSubMenu(h),a&&a!==h&&b.hideSubMenu(a),a=h}),$("body").on("click",function(c){return c.target.nodeName&&"A"===c.target.nodeName.toUpperCase()?void c.stopImmediatePropagation():(b.hideSubMenu(a),void(a=null))})},this.removeClass=function(a,b){var c=$(a);c.hasClass(b)&&c.removeClass(b)},this.addClass=function(a,b){var c=$(a);c.hasClass(b)||c.addClass(b)},this.showSubMenu=function(b){if(a!==b){this.removeClass(b,"sx-slide-out"),this.addClass(b,"sx-slide-in");var c=$(b),d=c.css("height").replace("px",""),e=$(c.parent());e.css("height",d),this.removeClass(c.parent(),"sx-slide-out"),this.addClass(c.parent(),"sx-slide-in")}},this.hideSubMenu=function(a){if(a){var b=$(a);this.hideSubCase(b),this.removeClass(a,"sx-slide-in"),this.addClass(a,"sx-slide-out")}},this.hideSubCase=function(a){var b=$(a.parent());b.css("height",0),this.removeClass(a.parent(),"sx-slide-in"),this.addClass(a.parent(),"sx-slide-out")}};jsux.app=jsux.app||{},function(a,b){var c=jsux.Model.create();c.extend({windowListener:function(a,c){if(!jQuery)throw new Error("windowListener() : need jQuery plugin");b(window).on(a,function(a){c(a)})},isEqualItem:function(a,b){if(!(a.length<1)){for(var c=0;c<a.length;c++)if(a[c].id==b.id)return!0;return!1}},addClass:function(a,c){if(!jQuery)throw new Error("addClass() : need jQuery plugin");return!b(a).hasClass(c)&&(b(a).addClass(c),!0)},removeClass:function(a,c){if(!jQuery)throw new Error("removeClass() : need jQuery plugin");return!!b(a).hasClass(c)&&(b(a).removeClass(c),!0)},searchParentElement:function(a,c){if(!jQuery)throw new Error("searchParentElement() : need jQuery plugin");var d=b(a).parent(),e="";do{if(e+=d[0].className+"\n",d.hasClass(c))return d;d=d.parent()}while(null!==d);return null},hasParentClass:function(a,b){if(!jQuery)throw new Error("hasParentClass() : need jQuery plugin");return!!this.searchParentElement(a,b)}}),c.include({swiper:null,isLoading:!1,resource_url:"",params:null,id:"",tmpl:"",template:"",msg_tmpl:"",msg_template:"",model:[],setSwiper:function(a){this.swiper=a},lockSwipes:function(){var a=this;this.swiper&&a.swiper.lockSwipes()},unlockSwipes:function(){this.swiper&&this.swiper.unlockSwipes()},updateSwiper:function(){this.swiper&&this.swiper.update()},resizeSwiper:function(){this.swiper&&this.swiper.onResize()},slideTo:function(a){(isNaN(a)||a<0)&&(a=0),this.swiper&&this.swiper.slideTo(a)},hasItem:function(a){var b=!1,c=function(c){for(var d=0;d<c.length;d++){if(c[d].id==a){b=!0;break}c[d].sub&&c[d].sub.length>0&&arguments.callee(c[d].sub)}};return c(this.model),c=null,b},getItem:function(a){for(var b,c=0;c<this.model.length;c++)if(this.model[c].id==a){b=this.model[c];break}return b},addItem:function(a){for(var b=0;b<this.model.length;b++)if(this.model[b].id==a.id)return!1;this.model.push(a),this.setData(this.model),this.slideTo(1),this.dispatchEvent({type:"add",target:this,model:a})},cutItem:function(a){for(var b,c=0;c<this.model.length;c++)if(this.model[c].id==a){b=this.model.splice(c,1),b=b[0];break}return this.setData(this.model),this.resizeSwiper(),b},updateItem:function(a){for(var b=0;b<this.model.length;b++)this.model[b].id==a.id&&(this.model[b]=a);this.setData(this.model),this.dispatchEvent({type:"add",target:this,model:a})},setResource:function(a,b){this.resource_url=a,b&&(this.params=b)},setParams:function(a){this.params=a},initialize:function(a){for(var b in a)this[b]=a[b]},digit:function(a){return jsux.utils.digit(a)},reset:function(){b(this.id).empty()},remove:function(){b(this.id).empty()},reloadData:function(a,b){var c=this,d={passover:(a-1)*b,limit:b},e=this.resource_url;if(!e)return void trace("resource_url 주소를 확인해주세요.");if(this.params)for(var f in this.params)d[f]||(d[f]=this.params[f]);this.isLoading!==!0&&(this.isLoading=!0,jsux.getJSON(e,d,function(a){c.dispatchEvent({type:"loaded",target:this,data:a.data}),c.isLoading=!1}))},setData:function(a){var c=null;return this.model=a,this.id?b(this.id).length<1?void jsux.logger.error("'"+this.id+"' 아이디 DOM 객체가 존재하지 않습니다.","jsux_list_manager.js"):(this.template=this.template||this.tmpl,this.template?(c=b(this.template),c.length<1?void jsux.logger.error("'"+this.id+"' 템플릿 DOM 객체가 존재하지 않습니다.","jsux_list_manager.js"):(this.reset(),void this.makeMenu(a,c))):void jsux.logger.error("'"+this.template+"' 템플릿 식별자를 입력하세요.","jsux_list_manager.js")):void jsux.logger.error("'"+this.id+"' 아이디 식별자를 입력하세요.","jsux_list_manager.js")},makeMenu:function(a,c){var d=this,e=null,f=null,g=null;e=function(a){var b=null;return a&&(b=new Date(a),b=isNaN(b.getFullYear())?"0000-00-00":b.getFullYear()+"-"+d.digit(b.getMonth()+1)+"-"+d.digit(b.getDate())),b},f=function(a,b){return 0===(a||b)?0:a/b*100},g=function(a){jsux.utils.addComma(a)},b(c).tmpl(a,{getRate:function(a,b){return f(a,b)},editDate:function(a){return e(a)},addComma:function(a){return g(a)}}).appendTo(this.id),0===a.length&&this.setMsg("등록 가능 메뉴가 존재하지 않습니다."),this.updateSwiper()},setMsg:function(a){var c=a?a:"데이터가 존재하지 않습니다.",d="";return"string"==typeof a&&(c={msg:a}),this.msg_template=this.msg_template||this.msg_tmpl,this.msg_template?(d=b(this.msg_template),d.length<1?void jsux.logger.error("'"+this.msg_template+"' 메세지 템플릿 DOM 객체가 존재하지 않습니다.","jsux_list_manager.js",167):void b(d).tmpl(c).appendTo(this.id)):void jsux.logger.error("'"+this.msg_template+"' 메세지 템플릿 식별자를 입력하세요.","jsux_list_manager.js")}}),a.ListManager=c,a.getListManager=function(){return new c}}(jsux.app,jQuery);